{% extends "admin_layout.html" %}

{% block style %}
<link rel="stylesheet" type="text/css" media="screen" href="../../home_page/homeStyle.css">
<title>Admin - Edit Specials</title>
{% endblock %}

{% block sidenav %}
    {% include 'admin_sidenav.html'%}
{% endblock %}

{% block content %}
<div class="main">
    <h2>Editing Dish: {{name}}</h2>

    <form action = "change_image_preview_specials.php" method = "POST" class="change_form" enctype="multipart/form-data">
        <input type="hidden" name="effect" value="edit">
        Name of Dish: 
        <input type="text" name="Name" pattern="[A-Za-z\s]+{1,}" title="No special characters allowed" value="{{name}}" required><!-- Pattern is to allow only lower and upper case letters, minimum of 1 letter -->
        <br>
        Image of Dish: 
        <input type="file" name= "image" onchange="readURL(this)" id = "image">
        <br>
        <br>
        <input type="hidden" name="id" value="{{id}}">
        <br>
        <input class="change" type="submit" value="Preview Changes"/><br/>
    </form>
        
    <p>Current Image: </p>
    <img id="preview" src="../../images/home/{{item_image}}" alt="your image" width='250px' height='250px'/>
    <script>
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#preview')
                        .attr('src', e.target.result)
                };

                reader.readAsDataURL(input.files[0]);
            }
        }   
    </script>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script> <!--To import jquery-->
<script>
    $(document).ready(function(){
        $("#welcome").addClass("current"); //To make the css style apply to the current section by adding class current to it
    });
</script>
    
{% endblock %}